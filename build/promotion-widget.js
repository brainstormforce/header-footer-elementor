(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;var n=e.n(t);const r=window.wp.element;function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){i=!0,l=e},f:function(){try{u||null==n.return||n.return()}finally{if(i)throw l}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const l=function(){return(0,r.useEffect)((function(){var e=null,t=null,n=null,r=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=parent.document.querySelector("#elementor-element--promotion__dialog");if(!n)return!1;var r=n.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)");if(!r)return!1;var o=t||"uae"===e;if(n.querySelectorAll(".uae-upgrade-button").forEach((function(e){return e.remove()})),o){r.style.display="none";var a=document.createElement("a");a.textContent="Upgrade Now";var l=n.querySelector(".dialog-header"),u="widget";return l&&l.textContent&&(u=l.textContent.trim().toLowerCase().replace(/\s+/g,"-")),a.setAttribute("href","https://ultimateelementor.com/pricing/?utm_source=plugin-editor&utm_medium=".concat(u,"-promo&utm_campaign=uae-upgrade")),a.setAttribute("target","_blank"),a.classList.add("dialog-button","dialog-action","dialog-buttons-action","elementor-button","go-pro","elementor-button-success","uae-upgrade-button"),r.insertAdjacentElement("afterend",a),a.addEventListener("click",(function(e){e.stopPropagation()})),n.setAttribute("data-uae-customized","true"),console.log("UAE: Added custom button, hid default button"),!0}return r.style.display="",n.removeAttribute("data-uae-customized"),console.log("UAE: Showing default button only"),!0},a=function(){t&&clearInterval(t),t=setInterval((function(){var t=parent.document.querySelector("#elementor-element--promotion__dialog");if(t&&"uae"===e){var n=t.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)"),o=t.querySelector(".uae-upgrade-button");(n&&"none"!==n.style.display||!o)&&r(!0)}}),100),setTimeout((function(){t&&(clearInterval(t),t=null)}),1e4)},l=function(t){for(var n=null,o=parent.document.querySelectorAll(".elementor-element--promotion"),l=0;l<o.length;l++)if(o[l].contains(t.target)){n=o[l];break}if(n){var u=function(e){if(!e)return!1;var t=e.querySelector(".icon > i"),n=t&&t.className.includes("hfe"),r=null!==e.closest("#elementor-panel-category-hfe-widgets");return n||r}(n);e=u?"uae":"other",console.log("UAE: Widget clicked, type:",e),a(),[10,30,50,100,200,300,500,1e3,1500,2e3].forEach((function(e){setTimeout((function(){parent.document.querySelector("#elementor-element--promotion__dialog")&&r(u)}),e)}))}},u=function(){setTimeout((function(){var e=parent.document.querySelector("#elementor-panel-elements-search-wrapper");if(e){var t=e.querySelectorAll(".elementor-element--promotion");console.log("UAE: Search input changed, found widgets:",t.length),t.forEach((function(e){e.removeEventListener("click",i),e.addEventListener("click",i),e.setAttribute("data-uae-processed","true")}))}}),300)},i=function(t){console.log("UAE: Search widget clicked"),e="uae",a(),[10,30,50,100,200,300,500,1e3].forEach((function(e){setTimeout((function(){parent.document.querySelector("#elementor-element--promotion__dialog")&&r(!0)}),e)}))},c=function(){if(void 0!==parent.document){parent.document.removeEventListener("mousedown",l,!0),parent.document.addEventListener("mousedown",l,!0),function(){n&&(n.disconnect(),n=null),n=new MutationObserver((function(e){var t=parent.document.querySelector("#elementor-panel-elements-search-wrapper");if(t){var n=t.querySelectorAll(".elementor-element--promotion");0!==n.length&&(console.log("UAE: Found promotion widgets in search results:",n.length),n.forEach((function(e){e.removeEventListener("click",i),e.addEventListener("click",i),e.setAttribute("data-uae-processed","true")})))}}));var e=parent.document.querySelector("#elementor-panel-elements");e&&n.observe(e,{childList:!0,subtree:!0,attributes:!1});var t=parent.document.querySelector("#elementor-panel-elements-search-input");t&&t.addEventListener("input",u)}();var t=function(){var t=new MutationObserver((function(t){var n,l=o(t);try{for(l.s();!(n=l.n()).done;){var u=n.value;if(u.addedNodes.length){var i,c=o(u.addedNodes);try{for(c.s();!(i=c.n()).done;)"elementor-element--promotion__dialog"===i.value.id&&(r("uae"===e),a())}catch(e){c.e(e)}finally{c.f()}}"attributes"===u.type&&"elementor-element--promotion__dialog"===u.target.id&&"uae"===e&&r(!0)}}catch(e){l.e(e)}finally{l.f()}var d=parent.document.querySelector("#elementor-element--promotion__dialog");if(d&&"uae"===e){var m=d.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)"),s=d.querySelector(".uae-upgrade-button");(m&&"none"!==m.style.display||!s)&&r(!0)}}));return parent.document.body&&t.observe(parent.document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","id"]}),t}();return parent.document.querySelector("#elementor-element--promotion__dialog")&&r(),t}},d=null;return window.elementor?elementor.on("preview:loaded",(function(){d=c()})):window.addEventListener("elementor/frontend/init",(function(){d=c()})),function(){if(t&&clearInterval(t),d&&d.disconnect(),n&&n.disconnect(),void 0!==parent.document){parent.document.removeEventListener("mousedown",l,!0);var e=parent.document.querySelector("#elementor-panel-elements-search-input");e&&e.removeEventListener("input",u),parent.document.querySelectorAll("#elementor-panel-elements-search-wrapper .elementor-element--promotion").forEach((function(e){e.removeEventListener("click",i)}))}window.elementor&&elementor.off?elementor.off("preview:loaded",c):window.removeEventListener("elementor/frontend/init",c)}}),[]),null};n()((function(){var e=document.createElement("div");document.body.appendChild(e),(0,r.render)(React.createElement(l,null),e)}))})();
//# sourceMappingURL=promotion-widget.js.map