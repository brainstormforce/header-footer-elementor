(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;var n=e.n(t);const o=window.wp.element;function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,u=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw u}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}const u=function(){return(0,o.useEffect)((function(){var e=null,t=null,n=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=parent.document.querySelector("#elementor-element--promotion__dialog");if(!n)return!1;var o=n.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)");if(!o)return!1;var r=t||"uae"===e;if(n.querySelectorAll(".uae-upgrade-button").forEach((function(e){return e.remove()})),r){o.style.display="none";var a=document.createElement("a");a.textContent="Upgrade Now";var u=n.querySelector(".dialog-header"),i="widget";return u&&u.textContent&&(i=u.textContent.trim().toLowerCase().replace(/\s+/g,"-")),a.setAttribute("href","https://ultimateelementor.com/pricing/?utm_source=plugin-editor&utm_medium=".concat(i,"-promo&utm_campaign=uae-upgrade")),a.setAttribute("target","_blank"),a.classList.add("dialog-button","dialog-action","dialog-buttons-action","elementor-button","go-pro","elementor-button-success","uae-upgrade-button"),o.insertAdjacentElement("afterend",a),a.addEventListener("click",(function(e){e.stopPropagation()})),n.setAttribute("data-uae-customized","true"),console.log("UAE: Added custom button, hid default button"),!0}return o.style.display="",n.removeAttribute("data-uae-customized"),console.log("UAE: Showing default button only"),!0},o=function(){t&&clearInterval(t),t=setInterval((function(){var t=parent.document.querySelector("#elementor-element--promotion__dialog");if(t&&"uae"===e){var o=t.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)"),r=t.querySelector(".uae-upgrade-button");(o&&"none"!==o.style.display||!r)&&n(!0)}}),100),setTimeout((function(){t&&(clearInterval(t),t=null)}),1e4)},a=function(t){for(var r=null,a=parent.document.querySelectorAll(".elementor-element--promotion"),u=0;u<a.length;u++)if(a[u].contains(t.target)){r=a[u];break}if(r){var i=function(e){if(!e)return!1;var t=e.querySelector(".icon > i"),n=t&&t.className.includes("hfe"),o=null!==e.closest("#elementor-panel-category-hfe-widgets");return n&&o}(r);e=i?"uae":"other",console.log("UAE: Widget clicked, type:",e),o(),[10,30,50,100,200,300,500,1e3,1500,2e3].forEach((function(e){setTimeout((function(){parent.document.querySelector("#elementor-element--promotion__dialog")&&n(i)}),e)}))}},u=function(){if(void 0!==parent.document){parent.document.removeEventListener("mousedown",a,!0),parent.document.addEventListener("mousedown",a,!0);var t=function(){var t=new MutationObserver((function(t){var a,u=r(t);try{for(u.s();!(a=u.n()).done;){var i=a.value;if(i.addedNodes.length){var l,d=r(i.addedNodes);try{for(d.s();!(l=d.n()).done;)"elementor-element--promotion__dialog"===l.value.id&&(n("uae"===e),o())}catch(e){d.e(e)}finally{d.f()}}"attributes"===i.type&&"elementor-element--promotion__dialog"===i.target.id&&"uae"===e&&n(!0)}}catch(e){u.e(e)}finally{u.f()}var c=parent.document.querySelector("#elementor-element--promotion__dialog");if(c&&"uae"===e){var m=c.querySelector(".dialog-buttons-action:not(.uae-upgrade-button)"),s=c.querySelector(".uae-upgrade-button");(m&&"none"!==m.style.display||!s)&&n(!0)}}));return parent.document.body&&t.observe(parent.document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","id"]}),t}();return parent.document.querySelector("#elementor-element--promotion__dialog")&&n(),t}},i=null;return window.elementor?elementor.on("preview:loaded",(function(){i=u()})):window.addEventListener("elementor/frontend/init",(function(){i=u()})),function(){t&&clearInterval(t),i&&i.disconnect(),void 0!==parent.document&&parent.document.removeEventListener("mousedown",a,!0),window.elementor&&elementor.off?elementor.off("preview:loaded",u):window.removeEventListener("elementor/frontend/init",u)}}),[]),null};n()((function(){var e=document.createElement("div");document.body.appendChild(e),(0,o.render)(React.createElement(u,null),e)}))})();
//# sourceMappingURL=promotion-widget.js.map